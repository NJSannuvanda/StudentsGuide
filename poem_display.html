<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Poem Display</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: sans-serif;
      display: flex;
      flex-direction: row;
      height: 100vh;
      overflow: hidden;
      background: #f4f4f4;
    }

    .left-section {
      flex: 1.2;
      background-color: #ffffff;
      padding: 10px;
    }

    .right-section {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
      background: #ffffff;
      overflow-y: auto;
    }

    .right-section h2,
    .left-section h2 {
      margin-top: 0;
    }

    embed {
      width: 100%;
      height: calc(100vh - 60px);
      border: none;
    }

    iframe {
      width: 100%;
      height: 300px;
      border: none;
    }

    audio {
      width: 100%;
      margin-top: 10px;
    }

    .video-container, .audio-container {
      margin-bottom: 20px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      body {
        flex-direction: column;
        height: auto;
      }

      .left-section, .right-section {
        flex: none;
        width: 100%;
        height: auto;
      }

      embed {
        height: 70vh;
      }
    }
  </style>
</head>
<body>

  <div class="left-section">
    <h2>Poem (Text)</h2>
    <embed id="poem-pdf" src="" type="application/pdf" />
    <p><a id="poem-pdf-link" href="" target="_blank">Open PDF in New Tab</a></p>
  </div>

  <div class="right-section">
    <div class="video-container">
      <h2>Poem (Video)</h2>
      <iframe id="poem-video" src="" allowfullscreen></iframe>
    </div>

    <div class="audio-container">
      <h2>Poem (Audio)</h2>
      <audio id="poem-audio" controls>
        <source id="poem-audio-src" src="" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>
    </div>
  </div>

  <script>
    const contentMap = {
      class1: {
        kannada: {
          poem1: {
            pdf: "Class1_Kannada_Poem1.pdf",
            video: "https://www.youtube.com/embed/VIDEO_ID_1",
            audio: "Class1_Kannada_Poem1.mp3"
          },
          poem2: {
            pdf: "Class1_Kannada_Poem2.pdf",
            video: "https://www.youtube.com/embed/VIDEO_ID_2",
            audio: "Class1_Kannada_Poem2.mp3"
          }
        }
      }
    };

    function getParam(key) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(key);
    }

    window.onload = function () {
      const cls = getParam("class");
      const subject = getParam("subject");
      const poem = getParam("poem");

      const data = contentMap?.[cls]?.[subject]?.[poem];

      if (data) {
        document.getElementById("poem-pdf").src = data.pdf;
        document.getElementById("poem-pdf-link").href = data.pdf;
        document.getElementById("poem-video").src = data.video;
        document.getElementById("poem-audio-src").src = data.audio;
        document.getElementById("poem-audio").load();
      } else {
        document.body.innerHTML = "<h2>Invalid or Missing Poem Selection</h2>";
      }
    };
  </script>
</body>
</html>
